---
import { Image } from "astro:assets";
import Text from "../system/Text.astro";
const { image, alt, class: className, name, desc, link, upcomingRibbon, grade11Ribbon } = Astro.props
---

<div data-link={link} class:list={[
  'relative max-md:w-full h-[432px] cursor-pointer max-md:h-[300px] rounded-2xl flex flex-col justify-end max-md:p-0 overflow-hidden group',
  className
]}
>
  <Image 
    class="w-full h-full object-cover object-center absolute top-0 left-0 z-0 group-hover:scale-110 transition-transform duration-300"
    src={image}
    alt={alt}
  />
  {upcomingRibbon && (
    <div class="ribbon absolute py-2 px-12 bg-yellow border-[2px] border-[#C7AC66] text-[#613938] text-[16px] top-[1.1rem] -right-[3.5rem] font-bold rotate-[40deg]">New Campus</div>
  )}
  {grade11Ribbon && (
    <div class="absolute py-2 w-full text-white text-[16px] top-[0px] left-10px font-bold text-center" style={{
      background: 'linear-gradient(139deg, #138846 28.32%, #0A5E2F 78.34%)'
    }}>Introducing Grade 11</div>
  )}
  <div class='flex flex-row justify-between items-center bg-gradient-to-b p-8 px-2 from-black/0 to-black max-md:p-4 w-full relative z-10'>
    <div class="flex flex-row items-center">
      <div class='ml-6 mr-6 max-md:ml-2'>
        <Text type={'h4'} class=''>{name}</Text>
        <Text type={'sm'} class=''>{desc}</Text>
      </div>
      
    </div>
  </div>
</div>
<script>
  document.querySelectorAll('[data-link]').forEach(el => {
    el.addEventListener('click', () => {
      window.open(el.dataset.link, "_self"); 
    })
  })
</script>
