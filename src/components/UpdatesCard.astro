---
import { Image } from "astro:assets";
import Text from "./system/Text.astro";
import playButton from '../images/playButton.png';
const {
  title,
  description,
  thumbnail,
  school,
  publishedDate,
  alt,
  type,
  video,
  class: className
} = Astro.props

const monthNameShort = publishedDate.toLocaleString('default', { month: 'short' });
const date = publishedDate.getDate().toString().padStart(2, '0');
---
<a
  class:list={[
    type === 'featured' && 'flex-1 max-md:w-full rounded-xl  bg-white overflow-hidden border-[2px] border-[#ECECEC]',
    type === 'normal' && 'w-[26vw] max-md:w-full',
    "text-left",
    className
  ]}
  data-school={school}
  href={video || null}
  target="_blank"
>
  <div class="relative">
    <Image
      src={thumbnail}
      alt={alt || title}
      class:list={[
        type === 'featured' && 'w-full h-[550px] max-md:h-[230px] max-md:w-full',
        type === 'normal' && 'w-full border-[2px] border-[rgba(192,124,71,1)] rounded-md h-[325px] max-md:h-[230px] max-md:w-full',
        "object-cover"
      ]}
      width={450}
      height={450}
    />
    {video && <Image
      src={playButton}
      alt="Play Button"
      class:list={[
        "absolute w-[60px] h-[50px] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red"
      ]}
      width={100}
      height={100}
    />}
  </div>
  <div class:list={[
    type === 'featured' && 'p-6',
    "flex flex-row pt-6"
  ]}>
    <div>
      <Text type="subtitle" class="text-accent3">{date}{' '} {monthNameShort}</Text>
      <Text type="h4" class="mb-2 mt-4">{title}</Text>
      <Text type="base" class="text-[18px] max-md:!text-[16px] font-[400]">{description || 'Discover dynamic student clubs for some personalised ...'}</Text>
    </div>
  </div>
</a>