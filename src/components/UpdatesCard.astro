---
import { Image } from "astro:assets";
import Text from "./system/Text.astro";
import playButton from '../images/playButton.png';
const {
  title,
  description,
  thumbnail,
  school,
  publishedDate,
  alt,
  type,
  video,
  class: className
} = Astro.props

const monthNameShort = publishedDate.toLocaleString('default', { month: 'short' });
const date = publishedDate.getDate().toString().padStart(2, '0');
---
<a
  class:list={[
    type === 'featured' && 'w-[450px] max-md:w-full',
    type === 'featured-sm' && 'w-[327px] max-md:w-full',
    type === 'normal' && 'w-[320px] max-md:w-full',
    "text-left",
    className
  ]}
  data-school={school}
  href={video || null}
  target="_blank"
>
  <div class="relative">
    <Image
      src={thumbnail}
      alt={alt || title}
      class:list={[
        type === 'featured' && 'w-[450px] h-[450px] max-md:h-[230px] max-md:w-full',
        type === 'featured-sm' && 'w-[327px] h-[230px] max-md:h-[230px] max-md:w-full',
        type === 'normal' && 'w-[325px] h-[325px] max-md:h-[230px] max-md:w-full',
        "rounded-md border-[2px] border-accent3 object-cover"
      ]}
      width={450}
      height={450}
    />
    {video && <Image
      src={playButton}
      alt="Play Button"
      class:list={[
        "absolute w-[60px] h-[50px] top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red"
      ]}
      width={100}
      height={100}
    />}
  </div>
  <div class="flex flex-row mt-6">
    <div class="flex flex-col items-center mr-3">
      <Text type="subtitle" class="text-accent3">{date}</Text>
      <Text type="subtitle" class="text-accent3">{monthNameShort}</Text>
    </div>
    <div>
      <Text type="h2" class="text-[20px] max-md:!text-[18px] mb-2">{title}</Text>
      <Text type="base" class="text-[18px] max-md:!text-[16px]">{description || 'Discover dynamic student clubs for some personalised ...'}</Text>
    </div>
  </div>
</a>