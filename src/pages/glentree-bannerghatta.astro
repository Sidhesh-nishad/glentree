---
import Layout from '../layouts/Layout.astro';

import TopNavigationBar from '../components/TopNavigationBar.astro';

import WhyGlentree from '../components/register/whyGlentree.astro';
import Campus from '../components/register/campus.astro';
import Collapsible from '../components/admissions/Collapsible.astro';

import Testimonial from '../components/landingPage/Testimonial.astro';
import Scholarship from '../components/register/scholarship.astro';
import '../global.css'

import '@fontsource/nunito-sans';
import Footer from '../components/landingPage/Footer.astro';
import Text from '../components/system/Text.astro';
import { Image } from 'astro:assets';
import AdmissionMarquee from '../components/campus/admissionMarquee.astro'

import PrePrimaryBG from '../images/curriculum/prePrimary.png';
import PrimaryBG from '../images/curriculum/primary.png';
import MiddleAndHighBG from '../images/curriculum/middle&High.png';
import Constrain from '../components/system/Constrain.astro';
import overviewRegisterPageBG from '../images/overviewRegisterPageBG.png'
import RegisterForm from '../components/register/registerForm.astro'
import Slide from '../components/system/Slide.astro';
import awards from "../images/awards.svg"
import slide1 from "../images/slides/1.jpg";
import slide1MB from "../images/slides/1-mb.jpeg";
import slide2 from "../images/slides/2.jpeg";
import slide2MB from "../images/slides/2-mb.jpeg";
import NewCampusShowcase from '../components/campus/newCampusShowcase.astro';
import BigAdmissionCTA from '../components/BigAdmissionCTA.astro';
import ContactUs from '../components/campus/contactUs.astro';

import campus3 from '../images/campus/gab/slides/campus3.png'
import computerLab from '../images/campus/gab/slides/computerLab.png'
import campus2 from '../images/campus/gab/slides/campus2.png'
import campus1 from '../images/campus/gab/slides/campus1.png'
import earthLab from '../images/campus/gab/slides/earthLab.png'
import playArea from '../images/campus/gab/slides/playArea.png'
import receptionArea from '../images/campus/gab/slides/receptionArea.png'
import sportsFacilities from '../images/campus/gab/slides/sportsFacilities.png'
import arrow from '../icons/ArrowWhite.svg'

import Faqs from '../components/faqs.astro';
import EarthLab from '../components/campus/earthLab.astro';
import Card from '../components/landingPage/Updates/Card.astro';
import { getEntries, getEntry, type CollectionEntry } from 'astro:content';


const academics = [
  {
    title: 'Pre-Primary',
    grade: 'NUR - UKG',
    points: [
      [
        'Montessori and Waldorf methodologies',
        'Activity based learning',
        'Language, Numeracy, and Theme',
      ],
      [
        'Value Education',
        'Reading Program',
        'Montessori Lab'
      ]
    ],
    image: PrePrimaryBG,
    background: '#0E6526',
    backgroundContent: '#0A5E2F',
    opacity: 1,
    link: 'https://glentreeacademy.com/curriculum/pre-primary'
  },
  {
    title: 'Primary',
    image: PrimaryBG,
    link: 'https://glentreeacademy.com/curriculum/primary',
    background: '#C07C47',
    grade: 'Grade I-IV',
    points: [                
      [
        "Exploring Through Discovery",
        "Multi-sensory Activities",
        "Experiential Learning",
        "Inter Disciplinary Approach",
        "Language Arts (English, Hindi, Kannada",
        "Math, Science and ICT"
      ],  
      [
        "STEM Lab",
        "R.E.A.D Program",
        "“Connecting the Dots” Program",
        "Regular Assessments",
        "Bi-annual Exams"
      ],
    ] 
  },
]



const { data } = await getEntry('campus','bannerghatta') as CollectionEntry<'campus'>

---

<Layout 
  title={data.titleTag}
  description={data.metaDescription}
>
  <main class="flex flex-col min-h-screen max-md:h-auto w-screen relative bg-white">
    <div 
      class="flex-1 flex flex-col main-container max-md:h-auto min-h-[screen w-screen"
      id="scroll-area"
      style={{
      overflowY: 'overlay',
        overflowX: 'hidden',
      }}
    >
      <div class='flex flex-col max-md:h-auto min-h-[99.5vh]'>
        <TopNavigationBar />
        <div class="h-[88px] w-full bg-black"></div>
        <a href="#scholarships" class="bg-yellow p-2 text-center text-black flex flex-row max-md:flex-col justify-center items-center cursor-pointer group">
          <Text type='base' class="font-bold">Avail our Early Admission Offer</Text>
          <div class="px-4" />
          <div class="flex flex-row items-center">
            <Text type='regular' class="font-bold uppercase tracking-widest">EXPLORE OFFER</Text>
            <div class="pl-[6px]" />
            <div class="w-[21px] h-[21px] group-hover:translate-x-2 transition-all ease-in-out">
              <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                <path d="M3.83594 10.5H17.1693M17.1693 10.5L12.1693 5.5M17.1693 10.5L12.1693 15.5" stroke="#1C274C" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
        </a>
        <div class="w-full flex-1 h-full relative p-12 flex flex-row max-md:flex-col justify-between items-center max-md:p-8 max-md:px-4 max-md:justify-end max-md:items-left max-md:pb-0">
          <div class="w-full h-full absolute top-0 left-0">
            <Slide
              slides={
                data.heroImages.map((image) => ({
                  image_desktop: image.image_desktop,
                  image_mobile: image.image_mobile,
                  position: image.position || 'center',
                  alt: image.alt,
                }))
              }
              id="resiter-page-hero"
            />
          </div>
          <div 
            class="
              absolute w-full h-full z-10 top-0 left-0
              bg-[linear-gradient(183deg,_rgba(0,_66,_29,_0.00)_40.29%,_rgba(0,0,0,0.7)_97.19%)]
              max-md:bg-[linear-gradient(321deg,_rgba(0,_66,_29,_0.10)_-108.71%,_#000_101.19%)]
            "
            style={{
              // background: 'linear-gradient(183deg, rgba(0, 66, 29, 0.00) 31.29%, #000 97.19%)',
              // 'linear-gradient(321deg, rgba(0, 66, 29, 0.10) -2.71%, #000 101.19%)'
            }}
          />
          <div class="h-full flex flex-row items-end relative z-20 self-end max-md:self-end">
            <div class="flex flex-col max-md:items-start">
              <Text type="subtitle" class='text-white tracking-widest'>Introducing</Text>
              <div class="p-2" />
              <Text type="h1Sm" class='text-white'
              style={{
                textShadow: '1.3px 2.5px 0px #6F322E',
              }}
              >Bannerghatta Road <span class="text-yellow">Campus</span></Text>
              <div class="p-2" />
              <Text type="base" class='text-white font-bold'>Sprawling 3-acre campus, surrounded by lush greenery</Text>
            </div>
          </div>
          <div class="max-md:py-4" />
          <div />
        </div>
        <AdmissionMarquee />
      </div>


      {data.showcase && data.showcase.length > 0 && (
        <div 
          style={{
            background: 'linear-gradient(180deg, #000000 0%, #142C1E 100%)',
          }}
          class="flex flex-col items-center py-14 max-md:py-12"
        >
          <div class='flex flex-row w-full items-center max-md:ml-0 max-md:px-6 box-border daisy daisy-2'>
            <div class='flex-1 bg-white/30 mr-6 max-md:mr-4 max-md:hidden' style={{ height: '1px' }}></div>
            <Text type={"subtitle"} class='text-center max-md:w-[100%] text-white' style={{ opacity: 0.8 }}> What's Happening at Glentree</Text>
            <div class='flex-1 bg-white/30 ml-6 max-md:ml-4 max-md:hidden' style={{ height: '1px' }}></div>
          </div>
      
          <div class="w-full relative mt-8">
            <div id="scroll-container" class="h-scroll relative w-screen flex flex-row h-min overflow-scroll no-scrollbar scroll-snap-news-carousel px-6 mb-0" style={{
              overflowX: 'scroll',
              overflowY: 'hidden',
              scrollSnapType: 'x mandatory',
            }}>
              {data.showcase.map((card, index) => (
                <Card title={card.title} image={card.image} class={`scroll-card daisy daisy-${index + 1} daisy-y-1 daisy-debug m-auto min-w-[39.813rem] max-sm:min-w-[300px]`}  />
              ))}
            </div>
          </div>

          <div class="flex flex-row gap-6 mt-8 justify-center">
            <div class="w-10 h-10 pointer-events-auto cursor-pointer" id="prev-button">
              <Image src={arrow} alt="previous button" class="w-full h-full -scale-100" />
            </div>
            <div class="w-10 h-10 pointer-events-auto cursor-pointer" id="next-button">
              <Image src={arrow} alt="previous button" class="w-full h-full" />
            </div>
          </div>
        </div>
      )}



    <NewCampusShowcase data={data.aroundTheCampus} />


    <div class='w-full p-14 text-black bg-white flex flex-col items-center max-md:p-6'>
      <Text type={'subtitle'} class='text-black/80'>ENRICHING CURRICULUM</Text>
      <Text type={'h2'} class='mt-2'>Academic{' '}<span class='text-accent2'>Landscape</span></Text>
      <div class='w-full flex-col flex items-center rounded-2xl max-md:rounded-2xl overflow-hidden mt-8 max-w-[1196px]'>
        {academics.map((academic, i) => (
          <div class='flex flex-row w-full mb-[2px] max-md:flex-col max-md:rounded-xl overflow-hidden max-md:mb-4'>
            <div
              class='w-full flex-1 max-w-[350px] max-md:max-w-[1000px] min-h-[200px] mr-[1px] flex flex-col text-white items-center justify-center relative bg-cover no-repeat'
              style={{
                backgroundImage: `url(${academic.image.src})`
            }}>
              <div class='w-full h-full mix-blend-multiply absolute z-0' style={{
                background: academic.background,
                opacity: academic.opacity ? academic.opacity : 1
              }}>
              </div>
              <div class='relative z-10 text-center'>

                <Text type={'h4'}>{academic.title}</Text>
                <Text type={'h4'}>{academic.grade}</Text>
              </div>
            </div>
            <div
              style={{
                background: academic.backgroundContent ? academic.backgroundContent : academic.background,
                opacity: academic.opacity ? academic.opacity : 1
              }}
              class='w-full flex-1 max-w-[845px] max-md:max-w-[1000px] min-h-[200px] mr-[1px] flex flex-row max-md:flex-col max-md:items-start max-md:p-8 max-md:pt-4 items-center justify-center p-12 py-4'
            >
              <Text type={'regular'} class='mt-3 font-[500] flex-1'>
                <ul class="list-disc text-white">
                  {academic.points[0].map((point) => (
                    <li>{point}</li>
                  ))}
                </ul>
              </Text>
              <Text type={'regular'} class='mt-3 font-[500] flex-1 max-md:mt-0'>
                <ul class="list-disc text-white">
                  {academic.points[1].map((point) => (
                    <li>{point}</li>
                  ))}
                </ul>
              </Text>
            </div>
            </div>
          ))}
      </div>
    </div>


    <!-- <EarthLab />
    <div id="scholarships" />
    <div class="pt-14" /> -->
    <!-- <LFL /> -->


    <!-- <Campus /> -->

      



    <!-- <Testimonial /> -->

    <EarthLab bannerghattaPage data={data.earthlab} />
    <Scholarship bannerghattaPage scholarship={data.scholarship} />

    <BigAdmissionCTA />
    <ContactUs 
      campus={data.contactUs}
    />

    <div class="w-full items-center flex flex-col bg-white">
      <div class="p-4" />
      <Text type={'subtitle'} class='text-black/60'>THINGS TO NOTE</Text>
      <Text type={'h2'} class='mt-2 text-black'>FAQs</Text>
      <div class="p-4" />
      <Faqs />
      <div class="p-3" />
    </div>


    

    <!-- <BigAdmissionCTA /> -->

    <!-- <GlentreeFamily /> -->
    {data.campusTourEmbedId && (
      <YoutubeEmbed embedId={data.campusTourEmbedId} videoId='campusTourVideo' />
    )}
    <Footer />
  </div>

  </main>
</Layout>

<style>
  .float{
    position:fixed;
    /* background-color:#25d366; */
    color:#FFF;
    border-radius:50px;
    text-align:center;
    font-size:30px;
    /* box-shadow: 2px 2px 3px #999; */
    z-index:100;
  }

  .float > div {
    opacity: 0;
    transition: 0.6s all ease-in-out
  }
  .float a:hover ~ div {
    opacity: 1;
  }

.my-float{
	margin-top:16px;
}
</style>

<script>
  // @@ts-ignore

  // dev script temp

  import collapsible, { openCollapsible } from '../components/admissions/collapsible'
  collapsible('.collapsible', null)

  const mainContainer = document.querySelector('.main-container')
  if (mainContainer) {
    // scroll to end 
    // mainContainer.scrollTo(0, mainContainer.scrollHeight)
  }

</script>


<script>
  const prevButton = document.querySelector('#prev-button')
  const nextButton = document.querySelector('#next-button')

  const scrollContainer = document.querySelector('#scroll-container')


  if (prevButton && nextButton && scrollContainer) {
    const scroll = (scrollOffset: number) => {
      scrollContainer.scrollBy({
        top: 0,
        left: scrollOffset,
        behavior: 'smooth'
      })
    }
  
    const scrollOffset = document.querySelector('.scroll-card')?.offsetWidth
  
    prevButton.addEventListener('click', () => {
      scroll(scrollOffset * -1)
    })
  
    nextButton.addEventListener('click', () => {
      scroll(scrollOffset)
    })
  }
</script>